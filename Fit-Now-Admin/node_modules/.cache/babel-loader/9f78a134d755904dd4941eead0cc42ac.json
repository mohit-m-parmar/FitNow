{"ast":null,"code":"var _jsxFileName = \"/Users/sarvesh/Desktop/SD/Fit-Now/fit_now_admin/src/components/AccountTrainee.js\";\nimport React, { useContext, useState } from 'react';\nimport { AppContext } from '../index';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ReactComponent as Barbell } from \"@svgr/webpack?-svgo,+titleProp,+ref!../assets/barbell.svg\";\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { Grid } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { setUser, signOut } from '../global/Reducer';\nconst useStyles = makeStyles({\n  root: {\n    minWidth: 275,\n    maxWidth: '80%',\n    marginTop: '15px'\n  },\n  title: {\n    fontSize: 20\n  },\n  delbutton: {\n    color: '#ff1744'\n  }\n});\nexport default function Edit() {\n  const app = useContext(AppContext);\n  const classes = useStyles();\n  const [email, setEmail] = useState('');\n  const [name, setName] = useState('');\n  const [age, setAge] = useState('');\n  const [gender, setGender] = useState('');\n  const [phno, setPh] = useState('');\n  const [open, setOpen] = useState(false);\n  const [pref, setPref] = useState('');\n\n  function editprof() {\n    const requestOptions = {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email: email,\n        name,\n        ph_no: phno,\n        age,\n        gender,\n        pref\n      })\n    };\n    fetch(`http://127.0.0.1:5001/users/${app.state.id}`, requestOptions).then(response => response.json()).then(data => {\n      if (data.message === \"Trainee profile updated\") {\n        console.log(data);\n        console.log(data.doc);\n        setAge(data.doc.age);\n        setEmail(data.doc.email);\n        setName(data.doc.name);\n        setOpen(true);\n      } else {\n        alert(data.message);\n      }\n    });\n  }\n\n  function deleteprof() {\n    const conf = prompt(\"Are you sure you want to delete your account? Type 'YES' to confirm\");\n\n    if (conf === 'YES') {\n      fetch(`http://127.0.0.1:5001/users/${app.state.id}`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => response.json()).then(data => {\n        if (data.message === \"Trainee deleted successfully\") {\n          console.log(data);\n          app.dispatch(signOut());\n          alert(\"account deleted\");\n        } else {\n          alert(data.message);\n        }\n      });\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Barbell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 48\n    }\n  })), /*#__PURE__*/React.createElement(Typography, {\n    className: classes.title,\n    color: \"textSecondary\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 21\n    }\n  }, \"Edit user profile\"), /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    label: \"Name\",\n    type: \"text\",\n    defaultValue: app.state.user.name,\n    variant: \"outlined\",\n    onChange: event => {\n      setName(event.target.value);\n    },\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    label: \"Email Address\",\n    type: \"email\",\n    defaultValue: app.state.user.email,\n    variant: \"outlined\",\n    onChange: event => {\n      setEmail(event.target.value);\n    },\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    label: \"Phone Number\",\n    type: \"text\",\n    defaultValue: app.state.user.phno,\n    variant: \"outlined\",\n    onChange: event => {\n      setPh(event.target.value);\n    },\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    label: \"Gender\",\n    type: \"text\",\n    defaultValue: app.state.user.gender,\n    variant: \"outlined\",\n    onChange: event => {\n      setGender(event.target.value);\n    },\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    label: \"Age\",\n    type: \"text\",\n    defaultValue: app.state.user.age,\n    variant: \"outlined\",\n    onChange: event => {\n      setAge(event.target.value);\n    },\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    label: \"What are you looking for?\",\n    type: \"text\",\n    defaultValue: app.state.user.pref,\n    variant: \"outlined\",\n    onChange: event => {\n      setPref(event.target.value);\n    },\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(CardActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    justify: \"space-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: editprof,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 19\n    }\n  }, \"Save changes\"), /*#__PURE__*/React.createElement(Button, {\n    className: classes.delbutton,\n    onClick: deleteprof,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 19\n    }\n  }, \"Delete account\"))))), /*#__PURE__*/React.createElement(Snackbar, {\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'left'\n    },\n    open: open,\n    autoHideDuration: 6000,\n    onClose: () => setOpen(false),\n    message: \"Changes saved\",\n    action: /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      size: \"small\",\n      \"aria-label\": \"close\",\n      color: \"inherit\",\n      onClick: () => setOpen(false),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CloseIcon, {\n      fontSize: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 15\n      }\n    }))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/sarvesh/Desktop/SD/Fit-Now/fit_now_admin/src/components/AccountTrainee.js"],"names":["React","useContext","useState","AppContext","makeStyles","Card","CardActions","CardContent","Button","Typography","Grid","TextField","Snackbar","IconButton","CloseIcon","setUser","signOut","useStyles","root","minWidth","maxWidth","marginTop","title","fontSize","delbutton","color","Edit","app","classes","email","setEmail","name","setName","age","setAge","gender","setGender","phno","setPh","open","setOpen","pref","setPref","editprof","requestOptions","method","headers","body","JSON","stringify","ph_no","fetch","state","id","then","response","json","data","message","console","log","doc","alert","deleteprof","conf","prompt","dispatch","user","event","target","value","vertical","horizontal"],"mappings":"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","sourcesContent":["import React, { useContext,useState } from 'react';\nimport { AppContext } from '../index';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {ReactComponent as Barbell} from '../assets/barbell.svg';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { Grid } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { setUser,signOut } from '../global/Reducer';\n\nconst useStyles = makeStyles({\n  root: {\n    minWidth: 275,\n    maxWidth: '80%',\n    marginTop: '15px',\n  },\n  title: {\n    fontSize: 20,\n  },\n  delbutton: {\n    color:'#ff1744',\n  },\n});\n\nexport default function Edit() {\n    const app = useContext(AppContext);\n    const classes = useStyles();\n    const [email,setEmail] = useState('');\n    const [name,setName] = useState('');\n    const [age,setAge] = useState('');\n    const [gender,setGender] = useState('');\n    const [phno,setPh] = useState('');\n    const [open, setOpen] = useState(false);\n    const [pref, setPref] = useState('');\n    \n    function editprof(){\n        const requestOptions = {\n          method: 'PATCH',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ \n            email:email,\n            name,\n            ph_no:phno,\n            age,\n            gender,\n            pref\n           })\n        };\n        fetch(`http://127.0.0.1:5001/users/${app.state.id}`, requestOptions)\n          .then(response => response.json())\n          .then(data =>{\n            if(data.message === \"Trainee profile updated\"){\n              console.log(data);\n              console.log(data.doc);\n              setAge(data.doc.age);\n              setEmail(data.doc.email);\n              setName(data.doc.name);\n              setOpen(true);\n            }\n            else{\n              alert(data.message);\n            }\n          });\n    }\n\n    function deleteprof(){\n      const conf = prompt(\"Are you sure you want to delete your account? Type 'YES' to confirm\");\n      if(conf==='YES'){\n        fetch(`http://127.0.0.1:5001/users/${app.state.id}`, {\n          method: 'DELETE',\n          headers: { 'Content-Type': 'application/json' }\n        })\n          .then(response => response.json())\n          .then(data =>{\n            if(data.message === \"Trainee deleted successfully\"){\n              console.log(data);\n              app.dispatch(signOut());\n              alert(\"account deleted\");\n            }\n            else{\n              alert(data.message);\n            }\n          });\n      }\n    }\n\n  return (\n      <div>\n        <Grid container justify=\"center\">\n          <Card className={classes.root}>\n              <CardContent>\n              <Grid container justify=\"center\"><Barbell /></Grid>\n                    <Typography className={classes.title} color=\"textSecondary\" gutterBottom>\n                      Edit user profile\n                    </Typography>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            label=\"Name\"\n            type=\"text\"\n            defaultValue={app.state.user.name}\n            variant=\"outlined\"\n            onChange={(event)=>{setName(event.target.value)}}\n            fullWidth\n          />\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            label=\"Email Address\"\n            type=\"email\"\n            defaultValue={app.state.user.email}\n            variant=\"outlined\"\n            onChange={(event)=>{setEmail(event.target.value)}}\n            fullWidth\n          />\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            label=\"Phone Number\"\n            type=\"text\"\n            defaultValue={app.state.user.phno}\n            variant=\"outlined\"\n            onChange={(event)=>{setPh(event.target.value)}}\n            fullWidth\n          />\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            label=\"Gender\"\n            type=\"text\"\n            defaultValue={app.state.user.gender}\n            variant=\"outlined\"\n            onChange={(event)=>{setGender(event.target.value)}}\n            fullWidth\n          />\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            label=\"Age\"\n            type=\"text\"\n            defaultValue={app.state.user.age}\n            variant=\"outlined\"\n            onChange={(event)=>{setAge(event.target.value)}}\n            fullWidth\n          />\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            label=\"What are you looking for?\"\n            type=\"text\"\n            defaultValue={app.state.user.pref}\n            variant=\"outlined\"\n            onChange={(event)=>{setPref(event.target.value)}}\n            fullWidth\n          />\n              </CardContent>\n              <CardActions>\n                  <Grid container justify=\"space-between\">\n                  <Button variant=\"contained\" color=\"primary\" onClick={editprof}>Save changes</Button>\n                  <Button className={classes.delbutton} onClick={deleteprof}>Delete account</Button>\n                  </Grid>\n              </CardActions>\n          </Card>\n      </Grid>\n      <Snackbar\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left',\n        }}\n        open={open}\n        autoHideDuration={6000}\n        onClose={()=>setOpen(false)}\n        message=\"Changes saved\"\n        action={\n          <React.Fragment>\n            <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={()=>setOpen(false)}>\n              <CloseIcon fontSize=\"small\" />\n            </IconButton>\n          </React.Fragment>\n        }\n      />\n      </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}