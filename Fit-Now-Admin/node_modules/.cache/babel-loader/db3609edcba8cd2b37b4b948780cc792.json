{"ast":null,"code":"var _jsxFileName = \"/Users/sarvesh/Desktop/FIT-NOW/fit_now_admin/src/components/AccountTrainer.js\";\nimport React, { useContext, useState, useEffect } from 'react';\nimport { AppContext } from '../index';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { Grid } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { setUser, signOut } from '../global/Reducer';\nconst useStyles = makeStyles({\n  root: {\n    minWidth: 275,\n    maxWidth: '80%',\n    marginTop: '15px'\n  },\n  title: {\n    fontSize: 20\n  },\n  delbutton: {\n    color: '#ff1744'\n  }\n});\nexport default function AccountTrainer() {\n  const app = useContext(AppContext);\n  const classes = useStyles();\n  const [email, setEmail] = useState('');\n  const [name, setName] = useState('');\n  const [age, setAge] = useState('');\n  const [gender, setGender] = useState('');\n  const [phno, setPh] = useState('');\n  const [city, setCity] = useState('');\n  const [pic, setPic] = useState('');\n  const [special, setSpecial] = useState('');\n  const [open, setOpen] = useState(false);\n\n  function getprof() {\n    const requestOptions = {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    fetch(`http://127.0.0.1:5001/trainers/${app.state.id}`, requestOptions).then(response => response.json()).then(data => {\n      if (data.message === \"Trainer found\") {\n        console.log(data.doc);\n        setAge(data.doc.age);\n        setEmail(data.doc.email);\n        setName(data.doc.name);\n      } else {\n        alert(data.message);\n      }\n    });\n  }\n\n  function editprof() {\n    const requestOptions = {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email: email,\n        name,\n        ph_no: phno,\n        age,\n        gender,\n        city,\n        photo: pic,\n        specialization: special\n      })\n    };\n    fetch(`http://127.0.0.1:5001/trainers/${app.state.id}`, requestOptions).then(response => response.json()).then(data => {\n      if (data.message === \"modified\") {\n        console.log(data);\n        setOpen(true);\n      } else {\n        alert(data.message);\n      }\n    });\n  }\n\n  function deleteprof() {\n    const conf = prompt(\"Are you sure you want to delete your account? Type 'YES' to confirm\");\n\n    if (conf === 'YES') {\n      fetch(`http://127.0.0.1:5001/trainers/${app.state.id}`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => response.json()).then(data => {\n        if (data.message === \"deleted successfully\") {\n          console.log(data);\n          app.dispatch(signOut());\n          alert(\"account deleted\");\n        } else {\n          alert(data.message);\n        }\n      });\n    }\n  }\n\n  useEffect(() => {\n    getprof();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    className: classes.title,\n    color: \"textSecondary\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }, \"Manage Trainer profile\"), /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    label: \"Name\",\n    type: \"text\",\n    defaultValue: name,\n    variant: \"outlined\",\n    onChange: event => {\n      setName(event.target.value);\n    },\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    label: \"Email Address\",\n    type: \"email\",\n    defaultValue: email,\n    variant: \"outlined\",\n    onChange: event => {\n      setEmail(event.target.value);\n    },\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    label: \"Phone Number\",\n    type: \"text\",\n    defaultValue: phno,\n    variant: \"outlined\",\n    onChange: event => {\n      setPh(event.target.value);\n    },\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    label: \"Gender\",\n    type: \"text\",\n    defaultValue: gender,\n    variant: \"outlined\",\n    onChange: event => {\n      setGender(event.target.value);\n    },\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    label: \"Age\",\n    type: \"text\",\n    defaultValue: age,\n    variant: \"outlined\",\n    onChange: event => {\n      setAge(event.target.value);\n    },\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    label: \"City of Residence\",\n    type: \"text\",\n    defaultValue: city,\n    variant: \"outlined\",\n    onChange: event => {\n      setCity(event.target.value);\n    },\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    label: \"URL of profile photo\",\n    type: \"text\",\n    defaultValue: pic,\n    variant: \"outlined\",\n    onChange: event => {\n      setPic(event.target.value);\n    },\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    label: \"What do you specialize in?\",\n    type: \"text\",\n    defaultValue: special,\n    variant: \"outlined\",\n    onChange: event => {\n      setSpecial(event.target.value);\n    },\n    fullWidth: true,\n    multiline: true,\n    rows: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(CardActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    justify: \"space-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: editprof,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 19\n    }\n  }, \"Save changes\"), /*#__PURE__*/React.createElement(Button, {\n    className: classes.delbutton,\n    onClick: deleteprof,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 19\n    }\n  }, \"Delete account\"))))), /*#__PURE__*/React.createElement(Snackbar, {\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'left'\n    },\n    open: open,\n    autoHideDuration: 6000,\n    onClose: () => setOpen(false),\n    message: \"Changes saved\",\n    action: /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      size: \"small\",\n      \"aria-label\": \"close\",\n      color: \"inherit\",\n      onClick: () => setOpen(false),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CloseIcon, {\n      fontSize: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 15\n      }\n    }))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/sarvesh/Desktop/FIT-NOW/fit_now_admin/src/components/AccountTrainer.js"],"names":["React","useContext","useState","useEffect","AppContext","makeStyles","Card","CardActions","CardContent","Button","Typography","Grid","TextField","Snackbar","IconButton","CloseIcon","setUser","signOut","useStyles","root","minWidth","maxWidth","marginTop","title","fontSize","delbutton","color","AccountTrainer","app","classes","email","setEmail","name","setName","age","setAge","gender","setGender","phno","setPh","city","setCity","pic","setPic","special","setSpecial","open","setOpen","getprof","requestOptions","method","headers","fetch","state","id","then","response","json","data","message","console","log","doc","alert","editprof","body","JSON","stringify","ph_no","photo","specialization","deleteprof","conf","prompt","dispatch","event","target","value","vertical","horizontal"],"mappings":"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","sourcesContent":["import React, { useContext,useState,useEffect } from 'react';\nimport { AppContext } from '../index';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { Grid } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { setUser,signOut } from '../global/Reducer';\n\nconst useStyles = makeStyles({\n  root: {\n    minWidth: 275,\n    maxWidth: '80%',\n    marginTop: '15px',\n  },\n  title: {\n    fontSize: 20,\n  },\n  delbutton: {\n    color:'#ff1744',\n  },\n});\n\nexport default function AccountTrainer() {\n    const app = useContext(AppContext);\n    const classes = useStyles();\n    const [email,setEmail] = useState('');\n    const [name,setName] = useState('');\n    const [age,setAge] = useState('');\n    const [gender,setGender] = useState('');\n    const [phno,setPh] = useState('');\n    const [city,setCity] = useState('');\n    const [pic,setPic] = useState('');\n    const [special,setSpecial] = useState('');\n    const [open, setOpen] = useState(false);\n\n    function getprof(){\n      const requestOptions = {\n        method: 'GET',\n        headers: { 'Content-Type': 'application/json' }\n      };\n      fetch(`http://127.0.0.1:5001/trainers/${app.state.id}`, requestOptions)\n        .then(response => response.json())\n        .then(data =>{\n          if(data.message === \"Trainer found\"){\n            console.log(data.doc);\n            setAge(data.doc.age);\n            setEmail(data.doc.email);\n            setName(data.doc.name);\n          }\n          else{\n            alert(data.message);\n          }\n        });\n    }\n    \n    function editprof(){\n        const requestOptions = {\n          method: 'PATCH',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ \n            email:email,\n            name,\n            ph_no:phno,\n            age,\n            gender,\n            city,\n            photo:pic,\n            specialization:special\n           })\n        };\n        fetch(`http://127.0.0.1:5001/trainers/${app.state.id}`, requestOptions)\n          .then(response => response.json())\n          .then(data =>{\n            if(data.message === \"modified\"){\n              console.log(data);\n              setOpen(true);\n            }\n            else{\n              alert(data.message);\n            }\n          });\n    }\n\n    function deleteprof(){\n      const conf = prompt(\"Are you sure you want to delete your account? Type 'YES' to confirm\");\n      if(conf==='YES'){\n        fetch(`http://127.0.0.1:5001/trainers/${app.state.id}`, {\n          method: 'DELETE',\n          headers: { 'Content-Type': 'application/json' }\n        })\n          .then(response => response.json())\n          .then(data =>{\n            if(data.message === \"deleted successfully\"){\n              console.log(data);\n              app.dispatch(signOut());\n              alert(\"account deleted\");\n            }\n            else{\n              alert(data.message);\n            }\n          });\n      }\n    }\n\n    useEffect(() => {\n      getprof();\n    },[]);\n\n  return (\n      <div>\n        <Grid container justify=\"center\">\n          <Card className={classes.root}>\n              <CardContent>\n                    <Typography className={classes.title} color=\"textSecondary\" gutterBottom>\n                      Manage Trainer profile\n                    </Typography>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            label=\"Name\"\n            type=\"text\"\n            defaultValue={name}\n            variant=\"outlined\"\n            onChange={(event)=>{setName(event.target.value)}}\n            fullWidth\n          />\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            label=\"Email Address\"\n            type=\"email\"\n            defaultValue={email}\n            variant=\"outlined\"\n            onChange={(event)=>{setEmail(event.target.value)}}\n            fullWidth\n          />\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            label=\"Phone Number\"\n            type=\"text\"\n            defaultValue={phno}\n            variant=\"outlined\"\n            onChange={(event)=>{setPh(event.target.value)}}\n            fullWidth\n          />\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            label=\"Gender\"\n            type=\"text\"\n            defaultValue={gender}\n            variant=\"outlined\"\n            onChange={(event)=>{setGender(event.target.value)}}\n            fullWidth\n          />\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            label=\"Age\"\n            type=\"text\"\n            defaultValue={age}\n            variant=\"outlined\"\n            onChange={(event)=>{setAge(event.target.value)}}\n            fullWidth\n          />\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            label=\"City of Residence\"\n            type=\"text\"\n            defaultValue={city}\n            variant=\"outlined\"\n            onChange={(event)=>{setCity(event.target.value)}}\n            fullWidth\n          />\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            label=\"URL of profile photo\"\n            type=\"text\"\n            defaultValue={pic}\n            variant=\"outlined\"\n            onChange={(event)=>{setPic(event.target.value)}}\n            fullWidth\n          />\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            label=\"What do you specialize in?\"\n            type=\"text\"\n            defaultValue={special}\n            variant=\"outlined\"\n            onChange={(event)=>{setSpecial(event.target.value)}}\n            fullWidth\n            multiline\n            rows={3}\n          />\n              </CardContent>\n              <CardActions>\n                  <Grid container justify=\"space-between\">\n                  <Button variant=\"contained\" color=\"primary\" onClick={editprof}>Save changes</Button>\n                  <Button className={classes.delbutton} onClick={deleteprof}>Delete account</Button>\n                  </Grid>\n              </CardActions>\n          </Card>\n      </Grid>\n      <Snackbar\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left',\n        }}\n        open={open}\n        autoHideDuration={6000}\n        onClose={()=>setOpen(false)}\n        message=\"Changes saved\"\n        action={\n          <React.Fragment>\n            <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={()=>setOpen(false)}>\n              <CloseIcon fontSize=\"small\" />\n            </IconButton>\n          </React.Fragment>\n        }\n      />\n      </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}