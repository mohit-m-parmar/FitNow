{"ast":null,"code":"var _jsxFileName = \"/Users/sarvesh/Desktop/FIT-NOW/fit_now_admin/src/components/dialogbox/SignIn.js\";\nimport React, { useContext, useState } from 'react';\nimport { AppContext } from '../../index';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Slide from '@material-ui/core/Slide';\nimport { toggleSI, toggleReg, signIn, setUser } from '../../global/Reducer';\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return /*#__PURE__*/React.createElement(Slide, Object.assign({\n    direction: \"up\",\n    ref: ref\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 10\n    }\n  }));\n});\nexport default function SignIn() {\n  const app = useContext(AppContext);\n  const [email, setEmail] = useState('');\n  const [password, setPass] = useState('');\n\n  const handleClose = () => {\n    app.dispatch(toggleSI());\n  };\n\n  function login() {\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email: email,\n        password: password\n      })\n    };\n    console.log(\"login called\");\n    fetch('http://127.0.0.1:5001/admin/login', requestOptions).then(response => response.json()).then(data => {\n      console.log(\"response recieved\");\n\n      if (data.message === \"Admin Login Succesful\") {\n        app.dispatch(setUser(data.user));\n        localStorage.setItem(\"token\", data.token);\n        localStorage.setItem(\"id\", data.user._id);\n        app.dispatch(signIn());\n      } else {\n        alert(data.message);\n      }\n    });\n    console.log(\"login ended\");\n  }\n\n  return /*#__PURE__*/React.createElement(Dialog, {\n    open: app.state.signin,\n    TransitionComponent: Transition,\n    keepMounted: true,\n    onClose: handleClose,\n    \"aria-labelledby\": \"alert-dialog-slide-title\",\n    \"aria-describedby\": \"alert-dialog-slide-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    id: \"alert-dialog-slide-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, \"Sign In\"), /*#__PURE__*/React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DialogContentText, {\n    id: \"alert-dialog-slide-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, \"Sign in with your email and password\"), /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    onChange: event => {\n      setEmail(event.target.value);\n    },\n    label: \"Email Address\",\n    type: \"email\",\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    onChange: event => {\n      setPass(event.target.value);\n    },\n    label: \"Password\",\n    type: \"password\",\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => {\n      app.dispatch(toggleReg());\n    },\n    color: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, \"Register\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: login,\n    color: \"primary\",\n    variant: \"contained\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, \"Login\")));\n}","map":{"version":3,"sources":["/Users/sarvesh/Desktop/FIT-NOW/fit_now_admin/src/components/dialogbox/SignIn.js"],"names":["React","useContext","useState","AppContext","Button","TextField","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Slide","toggleSI","toggleReg","signIn","setUser","Transition","forwardRef","props","ref","SignIn","app","email","setEmail","password","setPass","handleClose","dispatch","login","requestOptions","method","headers","body","JSON","stringify","console","log","fetch","then","response","json","data","message","user","localStorage","setItem","token","_id","alert","state","signin","event","target","value"],"mappings":"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","sourcesContent":["import React, { useContext,useState } from 'react';\nimport { AppContext } from '../../index';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Slide from '@material-ui/core/Slide';\nimport { toggleSI,toggleReg,signIn,setUser } from '../../global/Reducer';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function SignIn() {\n    const app = useContext(AppContext);\n    const [email,setEmail] = useState('');\n    const [password,setPass] = useState('');\n\n  const handleClose = () => {\n    app.dispatch(toggleSI());\n  };\n\n  function login(){\n      const requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ \n          email:email,\n          password:password\n         })\n      };\n      console.log(\"login called\");\n      fetch('http://127.0.0.1:5001/admin/login', requestOptions)\n        .then(response => response.json())\n        .then(data =>{\n          console.log(\"response recieved\");\n          if(data.message === \"Admin Login Succesful\"){\n            app.dispatch(setUser(data.user));\n            localStorage.setItem(\"token\", data.token);\n            localStorage.setItem(\"id\", data.user._id);\n            app.dispatch(signIn());\n          }\n          else{\n            alert(data.message);\n          }\n        });\n        console.log(\"login ended\");\n  }\n\n  return (\n      <Dialog\n        open={app.state.signin}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-slide-title\"\n        aria-describedby=\"alert-dialog-slide-description\"\n      >\n        <DialogTitle id=\"alert-dialog-slide-title\">{\"Sign In\"}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-slide-description\">\n            Sign in with your email and password\n          </DialogContentText>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            onChange={(event) => {setEmail(event.target.value)}}\n            label=\"Email Address\"\n            type=\"email\"\n            fullWidth\n          />\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            onChange={(event) => {setPass(event.target.value)}}\n            label=\"Password\"\n            type=\"password\"\n            fullWidth\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={()=>{app.dispatch(toggleReg())}} color=\"secondary\">\n            Register\n          </Button>\n          <Button onClick={login} color=\"primary\" variant=\"contained\">\n            Login\n          </Button>\n        </DialogActions>\n      </Dialog>\n  );\n}"]},"metadata":{},"sourceType":"module"}