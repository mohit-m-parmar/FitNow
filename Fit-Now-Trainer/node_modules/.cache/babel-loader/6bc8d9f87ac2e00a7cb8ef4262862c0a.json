{"ast":null,"code":"var _jsxFileName = \"/Users/sarvesh/Desktop/FIT-NOW/fit_now_trainer/src/components/Edit.js\";\nimport React, { useContext, useState } from 'react';\nimport { AppContext } from '../index';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { Grid } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { setUser, signOut } from '../global/Reducer';\nconst useStyles = makeStyles({\n  root: {\n    minWidth: 275,\n    maxWidth: '80%',\n    marginTop: '15px'\n  },\n  title: {\n    fontSize: 20\n  },\n  delbutton: {\n    color: '#ff1744'\n  }\n});\nexport default function Edit() {\n  const app = useContext(AppContext);\n  const classes = useStyles();\n  const [email, setEmail] = useState('');\n  const [name, setName] = useState('');\n  const [age, setAge] = useState('');\n  const [gender, setGender] = useState('');\n  const [phno, setPh] = useState('');\n  const [city, setCity] = useState('');\n  const [pic, setPic] = useState('');\n  const [special, setSpecial] = useState('');\n  const [open, setOpen] = useState(false);\n\n  function editprof() {\n    const requestOptions = {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email: email,\n        name,\n        ph_no: phno,\n        age,\n        gender,\n        city,\n        photo: pic,\n        specialization: special\n      })\n    };\n    fetch(`http://127.0.0.1:5001/trainers/${app.state.user.id}`, requestOptions).then(response => response.json()).then(data => {\n      if (data.message === \"Trainer updated\") {\n        console.log(data);\n        app.dispatch(setUser(data.new));\n        setOpen(true);\n      } else {\n        alert(data.message);\n      }\n    });\n  }\n\n  function deleteprof() {\n    const conf = prompt(\"Please confirm again ? Type 'YES' to continue\");\n\n    if (conf === 'YES') {\n      fetch(`http://127.0.0.1:5001/trainers/${app.state.user.id}`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => response.json()).then(data => {\n        if (data.message === \"Trainer deleted successfully\") {\n          console.log(data);\n          app.dispatch(signOut());\n          alert(\"account deleted\");\n        } else {\n          alert(data.message);\n        }\n      });\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    justifyContent: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    className: classes.title,\n    color: \"textSecondary\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }, \"Edit Your Profile\"), /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    label: \"Name\",\n    type: \"text\",\n    defaultValue: app.state.user.name,\n    variant: \"outlined\",\n    onChange: event => {\n      setName(event.target.value);\n    },\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    label: \"Email Address\",\n    type: \"email\",\n    defaultValue: app.state.user.email,\n    variant: \"outlined\",\n    onChange: event => {\n      setEmail(event.target.value);\n    },\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    label: \"Phone Number\",\n    type: \"text\",\n    defaultValue: app.state.user.phno,\n    variant: \"outlined\",\n    onChange: event => {\n      setPh(event.target.value);\n    },\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    label: \"Gender\",\n    type: \"text\",\n    defaultValue: app.state.user.gender,\n    variant: \"outlined\",\n    onChange: event => {\n      setGender(event.target.value);\n    },\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    label: \"Age\",\n    type: \"text\",\n    defaultValue: app.state.user.age,\n    variant: \"outlined\",\n    onChange: event => {\n      setAge(event.target.value);\n    },\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    label: \"City of Residence\",\n    type: \"text\",\n    defaultValue: app.state.user.city,\n    variant: \"outlined\",\n    onChange: event => {\n      setCity(event.target.value);\n    },\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    label: \"URL of profile photo\",\n    type: \"text\",\n    defaultValue: app.state.user.pic,\n    variant: \"outlined\",\n    onChange: event => {\n      setPic(event.target.value);\n    },\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    label: \"What do you specialize in?\",\n    type: \"text\",\n    defaultValue: app.state.user.spec,\n    variant: \"outlined\",\n    onChange: event => {\n      setSpecial(event.target.value);\n    },\n    fullWidth: true,\n    multiline: true,\n    rows: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(CardActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    justifyContent: \"space-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: editprof,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 19\n    }\n  }, \"Save changes\"), /*#__PURE__*/React.createElement(Button, {\n    className: classes.delbutton,\n    onClick: deleteprof,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 19\n    }\n  }, \"Delete account\"))))), /*#__PURE__*/React.createElement(Snackbar, {\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'left'\n    },\n    open: open,\n    autoHideDuration: 6000,\n    onClose: () => setOpen(false),\n    message: \"Changes saved\",\n    action: /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      size: \"small\",\n      \"aria-label\": \"close\",\n      color: \"inherit\",\n      onClick: () => setOpen(false),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CloseIcon, {\n      fontSize: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 15\n      }\n    }))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/sarvesh/Desktop/FIT-NOW/fit_now_trainer/src/components/Edit.js"],"names":["React","useContext","useState","AppContext","makeStyles","Card","CardActions","CardContent","Button","Typography","Grid","TextField","Snackbar","IconButton","CloseIcon","setUser","signOut","useStyles","root","minWidth","maxWidth","marginTop","title","fontSize","delbutton","color","Edit","app","classes","email","setEmail","name","setName","age","setAge","gender","setGender","phno","setPh","city","setCity","pic","setPic","special","setSpecial","open","setOpen","editprof","requestOptions","method","headers","body","JSON","stringify","ph_no","photo","specialization","fetch","state","user","id","then","response","json","data","message","console","log","dispatch","new","alert","deleteprof","conf","prompt","event","target","value","spec","vertical","horizontal"],"mappings":"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","sourcesContent":["import React, { useContext,useState } from 'react';\nimport { AppContext } from '../index';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { Grid } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { setUser,signOut } from '../global/Reducer';\n\nconst useStyles = makeStyles({\n  root: {\n    minWidth: 275,\n    maxWidth: '80%',\n    marginTop: '15px',\n  },\n  title: {\n    fontSize: 20,\n  },\n  delbutton: {\n    color:'#ff1744',\n  },\n});\n\nexport default function Edit() {\n    const app = useContext(AppContext);\n    const classes = useStyles();\n    const [email,setEmail] = useState('');\n    const [name,setName] = useState('');\n    const [age,setAge] = useState('');\n    const [gender,setGender] = useState('');\n    const [phno,setPh] = useState('');\n    const [city,setCity] = useState('');\n    const [pic,setPic] = useState('');\n    const [special,setSpecial] = useState('');\n    const [open, setOpen] = useState(false);\n    \n    function editprof(){\n        const requestOptions = {\n          method: 'PATCH',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ \n            email:email,\n            name,\n            ph_no:phno,\n            age,\n            gender,\n            city,\n            photo:pic,\n            specialization:special\n           })\n        };\n        fetch(`http://127.0.0.1:5001/trainers/${app.state.user.id}`, requestOptions)\n          .then(response => response.json())\n          .then(data =>{\n            if(data.message === \"Trainer updated\"){\n              console.log(data);\n              app.dispatch(setUser(data.new));\n              setOpen(true);\n            }\n            else{\n              alert(data.message);\n            }\n          });\n    }\n\n    function deleteprof(){\n      const conf = prompt(\"Please confirm again ? Type 'YES' to continue\");\n      if(conf==='YES'){\n        fetch(`http://127.0.0.1:5001/trainers/${app.state.user.id}`, {\n          method: 'DELETE',\n          headers: { 'Content-Type': 'application/json' }\n        })\n          .then(response => response.json())\n          .then(data =>{\n            if(data.message === \"Trainer deleted successfully\"){\n              console.log(data);\n              app.dispatch(signOut());\n              alert(\"account deleted\");\n            }\n            else{\n              alert(data.message);\n            }\n          });\n      }\n    }\n\n  return (\n      <div>\n        <Grid container justifyContent=\"center\">\n          <Card className={classes.root}>\n              <CardContent>\n                    <Typography className={classes.title} color=\"textSecondary\" gutterBottom>\n                      Edit Your Profile\n                    </Typography>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            label=\"Name\"\n            type=\"text\"\n            defaultValue={app.state.user.name}\n            variant=\"outlined\"\n            onChange={(event)=>{setName(event.target.value)}}\n            fullWidth\n          />\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            label=\"Email Address\"\n            type=\"email\"\n            defaultValue={app.state.user.email}\n            variant=\"outlined\"\n            onChange={(event)=>{setEmail(event.target.value)}}\n            fullWidth\n          />\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            label=\"Phone Number\"\n            type=\"text\"\n            defaultValue={app.state.user.phno}\n            variant=\"outlined\"\n            onChange={(event)=>{setPh(event.target.value)}}\n            fullWidth\n          />\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            label=\"Gender\"\n            type=\"text\"\n            defaultValue={app.state.user.gender}\n            variant=\"outlined\"\n            onChange={(event)=>{setGender(event.target.value)}}\n            fullWidth\n          />\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            label=\"Age\"\n            type=\"text\"\n            defaultValue={app.state.user.age}\n            variant=\"outlined\"\n            onChange={(event)=>{setAge(event.target.value)}}\n            fullWidth\n          />\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            label=\"City of Residence\"\n            type=\"text\"\n            defaultValue={app.state.user.city}\n            variant=\"outlined\"\n            onChange={(event)=>{setCity(event.target.value)}}\n            fullWidth\n          />\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            label=\"URL of profile photo\"\n            type=\"text\"\n            defaultValue={app.state.user.pic}\n            variant=\"outlined\"\n            onChange={(event)=>{setPic(event.target.value)}}\n            fullWidth\n          />\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            label=\"What do you specialize in?\"\n            type=\"text\"\n            defaultValue={app.state.user.spec}\n            variant=\"outlined\"\n            onChange={(event)=>{setSpecial(event.target.value)}}\n            fullWidth\n            multiline\n            rows={3}\n          />\n              </CardContent>\n              <CardActions>\n                  <Grid container justifyContent=\"space-between\">\n                  <Button variant=\"contained\" color=\"primary\" onClick={editprof}>Save changes</Button>\n                  <Button className={classes.delbutton} onClick={deleteprof}>Delete account</Button>\n                  </Grid>\n              </CardActions>\n          </Card>\n      </Grid>\n      <Snackbar\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left',\n        }}\n        open={open}\n        autoHideDuration={6000}\n        onClose={()=>setOpen(false)}\n        message=\"Changes saved\"\n        action={\n          <React.Fragment>\n            <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={()=>setOpen(false)}>\n              <CloseIcon fontSize=\"small\" />\n            </IconButton>\n          </React.Fragment>\n        }\n      />\n      </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}