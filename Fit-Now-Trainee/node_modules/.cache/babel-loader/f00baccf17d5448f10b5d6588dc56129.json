{"ast":null,"code":"var _jsxFileName = \"/Users/mohitparmar/Documents/FIT-NOW/fit_now_trainee/src/components/dialogbox/SignIn.js\";\nimport React, { useContext, useState } from \"react\";\nimport { AppContext } from \"../../index\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { toggleSI, toggleReg, signIn, setUser } from \"../../global/Reducer\";\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return /*#__PURE__*/React.createElement(Slide, Object.assign({\n    direction: \"up\",\n    ref: ref\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 10\n    }\n  }));\n});\nexport default function SignIn() {\n  const app = useContext(AppContext);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPass] = useState(\"\");\n\n  const handleClose = () => {\n    app.dispatch(toggleSI());\n  };\n\n  function login() {\n    const requestOptions = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email: email,\n        password: password\n      })\n    };\n    console.log(\"login called\");\n    fetch(\"http://127.0.0.1:5001/users/login\", requestOptions).then(response => response.json()).then(data => {\n      console.log(\"response recieved\");\n\n      if (data.message === \"Trainee Login successful\") {\n        app.dispatch(setUser(data.user));\n        localStorage.setItem(\"token\", data.token);\n        localStorage.setItem(\"id\", data.user._id);\n        app.dispatch(signIn());\n      } else {\n        alert(data.message);\n      }\n    });\n    console.log(\"login ended\");\n  }\n\n  return /*#__PURE__*/React.createElement(Dialog, {\n    open: app.state.signin,\n    TransitionComponent: Transition,\n    keepMounted: true,\n    onClose: handleClose,\n    \"aria-labelledby\": \"alert-dialog-slide-title\",\n    \"aria-describedby\": \"alert-dialog-slide-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    id: \"alert-dialog-slide-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, \"Sign In\"), /*#__PURE__*/React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(DialogContentText, {\n    id: \"alert-dialog-slide-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, \"Sign in with your email and password\"), /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    onChange: event => {\n      setEmail(event.target.value);\n    },\n    label: \"Email Address\",\n    type: \"email\",\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    onChange: event => {\n      setPass(event.target.value);\n    },\n    label: \"Password\",\n    type: \"password\",\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => {\n      app.dispatch(toggleReg());\n    },\n    color: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, \"Sign Up\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: login,\n    color: \"primary\",\n    variant: \"contained\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, \"Login\")));\n}","map":{"version":3,"sources":["/Users/mohitparmar/Documents/FIT-NOW/fit_now_trainee/src/components/dialogbox/SignIn.js"],"names":["React","useContext","useState","AppContext","Button","TextField","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Slide","toggleSI","toggleReg","signIn","setUser","Transition","forwardRef","props","ref","SignIn","app","email","setEmail","password","setPass","handleClose","dispatch","login","requestOptions","method","headers","body","JSON","stringify","console","log","fetch","then","response","json","data","message","user","localStorage","setItem","token","_id","alert","state","signin","event","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,SAASC,UAAT,QAA2B,aAA3B;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,iBAAP,MAA8B,qCAA9B;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,SAASC,QAAT,EAAmBC,SAAnB,EAA8BC,MAA9B,EAAsCC,OAAtC,QAAqD,sBAArD;AAEA,MAAMC,UAAU,GAAGhB,KAAK,CAACiB,UAAN,CAAiB,SAASD,UAAT,CAAoBE,KAApB,EAA2BC,GAA3B,EAAgC;AAClE,sBAAO,oBAAC,KAAD;AAAO,IAAA,SAAS,EAAC,IAAjB;AAAsB,IAAA,GAAG,EAAEA;AAA3B,KAAoCD,KAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAP;AACD,CAFkB,CAAnB;AAIA,eAAe,SAASE,MAAT,GAAkB;AAC/B,QAAMC,GAAG,GAAGpB,UAAU,CAACE,UAAD,CAAtB;AACA,QAAM,CAACmB,KAAD,EAAQC,QAAR,IAAoBrB,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACsB,QAAD,EAAWC,OAAX,IAAsBvB,QAAQ,CAAC,EAAD,CAApC;;AAEA,QAAMwB,WAAW,GAAG,MAAM;AACxBL,IAAAA,GAAG,CAACM,QAAJ,CAAaf,QAAQ,EAArB;AACD,GAFD;;AAIA,WAASgB,KAAT,GAAiB;AACf,UAAMC,cAAc,GAAG;AACrBC,MAAAA,MAAM,EAAE,MADa;AAErBC,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB,OAFY;AAGrBC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBZ,QAAAA,KAAK,EAAEA,KADY;AAEnBE,QAAAA,QAAQ,EAAEA;AAFS,OAAf;AAHe,KAAvB;AAQAW,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACAC,IAAAA,KAAK,CAAC,mCAAD,EAAsCR,cAAtC,CAAL,CACGS,IADH,CACSC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EADtB,EAEGF,IAFH,CAESG,IAAD,IAAU;AACdN,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;;AACA,UAAIK,IAAI,CAACC,OAAL,KAAiB,0BAArB,EAAiD;AAC/CrB,QAAAA,GAAG,CAACM,QAAJ,CAAaZ,OAAO,CAAC0B,IAAI,CAACE,IAAN,CAApB;AACAC,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,IAAI,CAACK,KAAnC;AACAF,QAAAA,YAAY,CAACC,OAAb,CAAqB,IAArB,EAA2BJ,IAAI,CAACE,IAAL,CAAUI,GAArC;AACA1B,QAAAA,GAAG,CAACM,QAAJ,CAAab,MAAM,EAAnB;AACD,OALD,MAKO;AACLkC,QAAAA,KAAK,CAACP,IAAI,CAACC,OAAN,CAAL;AACD;AACF,KAZH;AAaAP,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACD;;AAED,sBACE,oBAAC,MAAD;AACE,IAAA,IAAI,EAAEf,GAAG,CAAC4B,KAAJ,CAAUC,MADlB;AAEE,IAAA,mBAAmB,EAAElC,UAFvB;AAGE,IAAA,WAAW,MAHb;AAIE,IAAA,OAAO,EAAEU,WAJX;AAKE,uBAAgB,0BALlB;AAME,wBAAiB,gCANnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAQE,oBAAC,WAAD;AAAa,IAAA,EAAE,EAAC,0BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA4C,SAA5C,CARF,eASE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,iBAAD;AAAmB,IAAA,EAAE,EAAC,gCAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CADF,eAIE,oBAAC,SAAD;AACE,IAAA,SAAS,MADX;AAEE,IAAA,MAAM,EAAC,OAFT;AAGE,IAAA,QAAQ,EAAGyB,KAAD,IAAW;AACnB5B,MAAAA,QAAQ,CAAC4B,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAR;AACD,KALH;AAME,IAAA,KAAK,EAAC,eANR;AAOE,IAAA,IAAI,EAAC,OAPP;AAQE,IAAA,SAAS,MARX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,eAcE,oBAAC,SAAD;AACE,IAAA,SAAS,MADX;AAEE,IAAA,MAAM,EAAC,OAFT;AAGE,IAAA,QAAQ,EAAGF,KAAD,IAAW;AACnB1B,MAAAA,OAAO,CAAC0B,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAP;AACD,KALH;AAME,IAAA,KAAK,EAAC,UANR;AAOE,IAAA,IAAI,EAAC,UAPP;AAQE,IAAA,SAAS,MARX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAdF,CATF,eAkCE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AACE,IAAA,OAAO,EAAE,MAAM;AACbhC,MAAAA,GAAG,CAACM,QAAJ,CAAad,SAAS,EAAtB;AACD,KAHH;AAIE,IAAA,KAAK,EAAC,WAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,eASE,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAEe,KAAjB;AAAwB,IAAA,KAAK,EAAC,SAA9B;AAAwC,IAAA,OAAO,EAAC,WAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aATF,CAlCF,CADF;AAkDD","sourcesContent":["import React, { useContext, useState } from \"react\";\nimport { AppContext } from \"../../index\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { toggleSI, toggleReg, signIn, setUser } from \"../../global/Reducer\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function SignIn() {\n  const app = useContext(AppContext);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPass] = useState(\"\");\n\n  const handleClose = () => {\n    app.dispatch(toggleSI());\n  };\n\n  function login() {\n    const requestOptions = {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        email: email,\n        password: password,\n      }),\n    };\n    console.log(\"login called\");\n    fetch(\"http://127.0.0.1:5001/users/login\", requestOptions)\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(\"response recieved\");\n        if (data.message === \"Trainee Login successful\") {\n          app.dispatch(setUser(data.user));\n          localStorage.setItem(\"token\", data.token);\n          localStorage.setItem(\"id\", data.user._id);\n          app.dispatch(signIn());\n        } else {\n          alert(data.message);\n        }\n      });\n    console.log(\"login ended\");\n  }\n\n  return (\n    <Dialog\n      open={app.state.signin}\n      TransitionComponent={Transition}\n      keepMounted\n      onClose={handleClose}\n      aria-labelledby=\"alert-dialog-slide-title\"\n      aria-describedby=\"alert-dialog-slide-description\"\n    >\n      <DialogTitle id=\"alert-dialog-slide-title\">{\"Sign In\"}</DialogTitle>\n      <DialogContent>\n        <DialogContentText id=\"alert-dialog-slide-description\">\n          Sign in with your email and password\n        </DialogContentText>\n        <TextField\n          autoFocus\n          margin=\"dense\"\n          onChange={(event) => {\n            setEmail(event.target.value);\n          }}\n          label=\"Email Address\"\n          type=\"email\"\n          fullWidth\n        />\n        <TextField\n          autoFocus\n          margin=\"dense\"\n          onChange={(event) => {\n            setPass(event.target.value);\n          }}\n          label=\"Password\"\n          type=\"password\"\n          fullWidth\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button\n          onClick={() => {\n            app.dispatch(toggleReg());\n          }}\n          color=\"secondary\"\n        >\n          Sign Up\n        </Button>\n        <Button onClick={login} color=\"primary\" variant=\"contained\">\n          Login\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}